DOCUMENT DE TEST COMPLET - MANUS & JAMES PARK
Site: HaEsh Sheli (×”××© ×©×œ×™) - E-commerce Breslov
Date de crÃ©ation: 6 novembre 2025
Ã‰vÃ©nement critique: PrÃ©sentation Ã  20,000 personnes ce soir (Hilloula Rabbi Israel Dov Odesser)

ğŸ¯ OBJECTIF PRINCIPAL
Tester TOUTES les fonctionnalitÃ©s du site en mobile ET desktop, identifier tous les problÃ¨mes visuels et techniques, et vÃ©rifier que le site est prÃªt pour l'Ã©vÃ©nement de ce soir.

ğŸ“‹ HISTORIQUE COMPLET DES DEMANDES CLIENT
1. SYSTÃˆME DE LOTERIE (PRIORITÃ‰ CRITIQUE)
Flux complet Ã  tester:

QR Code â†’ Landing Page â†’ Formulaire â†’ PayPal â†’ Base de donnÃ©es â†’ Admin Draw

Endpoints Ã  vÃ©rifier:

âœ… /lottery - Page publique de loterie
âœ… /lottery-payment - Page de paiement
âœ… /lottery-admin - Page admin (PROTÃ‰GÃ‰E - nÃ©cessite admin auth)
âœ… POST /api/lottery/payment-entry - EntrÃ©e aprÃ¨s paiement PayPal (PUBLIC)
âœ… POST /api/lottery/draw-winner - Tirage au sort (ADMIN ONLY)
âœ… GET /api/lottery/participants - Liste participants (ADMIN ONLY)
âœ… GET /api/lottery/winners - Liste gagnants (PUBLIC)
Tests critiques:

Scanner le QR code â†’ doit amener Ã  /lottery-payment
Remplir le formulaire avec:
Nom: Test Participant
Email: test@example.com
TÃ©lÃ©phone: +972501234567
Montant: 36 ILS minimum
Cliquer sur bouton PayPal â†’ vÃ©rifier redirection PayPal
ComplÃ©ter paiement test PayPal
VÃ©rifier que l'entrÃ©e apparaÃ®t dans la base de donnÃ©es lottery_participants
AccÃ©der Ã  /lottery-admin en tant qu'admin
Voir la liste des participants
Cliquer "Draw Winner" â†’ vÃ©rifier le tirage pondÃ©rÃ© (plus d'achats = plus de chances)
SÃ‰CURITÃ‰ CRITIQUE:

âŒ Tenter d'accÃ©der /lottery-admin SANS login â†’ doit bloquer (401)
âŒ Tenter d'accÃ©der /lottery-admin avec user NON-admin â†’ doit bloquer (403)
âœ… AccÃ©der avec user admin â†’ doit fonctionner
2. PAYPAL INTEGRATION (PRIORITÃ‰ CRITIQUE)
Pages avec boutons PayPal:

/store - Chaque produit
/product/:id - Page produit individuelle
Tests critiques:

Aller sur /product/1 (n'importe quel livre)
SÃ©lectionner variante (format, taille)
SÃ©lectionner quantitÃ© (ex: 3)
VÃ‰RIFIER LE PRIX: Doit afficher variant.price Ã— quantity
Cliquer sur bouton PayPal bleu
VÃ©rifier que PayPal charge le PRIX CORRECT
ComplÃ©ter paiement test
VÃ©rifier redirection aprÃ¨s paiement
ALTERNATIVE: Tester bouton "Pay via Old Site" â†’ doit rediriger vers haesh-sheli.co.il/checkout
Prix Ã  vÃ©rifier:

Livre Ã  95 ILS Ã— 2 = 190 ILS dans PayPal âœ…
Livre Ã  120 ILS Ã— 1 = 120 ILS dans PayPal âœ…
3. DESIGN MOBILE (PRIORITÃ‰ CRITIQUE - CLIENT FRUSTRÃ‰)
ProblÃ¨me rapportÃ©: "Tout le site en mobile est dÃ©gueulasse"

Pages Ã  inspecter visuellement en mobile (< 768px):

A. Page d'accueil /
ProblÃ¨mes identifiÃ©s:

âŒ Ã‰NORME BLOC BLEU en haut (400px+ de hauteur)
âŒ Blocs bleus partout dans le header
âŒ Boutons avec gradient bleu (from-[#1e40af] to-[#1e3a8a])
âŒ Design gÃ©nÃ©ral pas harmonieux
Ce qui devrait Ãªtre:

âœ… Header mobile: 48px de hauteur MAXIMUM
âœ… Hamburger menu (â˜°) en haut Ã  droite
âœ… Logo/titre centrÃ©
âœ… Design beige minimaliste (#FAEBD7 background)
âœ… Photo du livre apparaÃ®t EN PREMIER (pas de blocs bleus avant)
âœ… Pas de gradients bleus
B. SÃ©lecteur de langues mobile
ProblÃ¨me rapportÃ©: "Clique sur le bouton des langues en mobile. Ã‡a change mÃªme sans nous donner le sÃ©lecteur."

Comportement actuel (MAUVAIS):

Cliquer sur Globe (ğŸŒ) â†’ change directement la langue
Comportement attendu (CORRIGÃ‰):

Cliquer sur Globe â†’ ouvre un popup/menu
Menu affiche les 5 langues avec drapeaux:
ğŸ‡®ğŸ‡± ×¢×‘×¨×™×ª (HE)
ğŸ‡ºğŸ‡¸ English (EN)
ğŸ‡«ğŸ‡· FranÃ§ais (FR)
ğŸ‡ªğŸ‡¸ EspaÃ±ol (ES)
ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹ (RU)
Cliquer sur une langue â†’ change et ferme le menu
Cliquer en dehors â†’ ferme sans changer
C. Toutes les pages en mobile
VÃ©rifier ces pages en mode mobile:

/ - Homepage
/store - Boutique
/product/1 - Page produit
/about - Ã€ propos
/magazine - Magazine
/lottery - Loterie
/haesh-hype - HaEsh Hype
/contact - Contact
CritÃ¨res de validation:

âœ… Texte lisible (taille 16px minimum)
âœ… Boutons cliquables (48px minimum touch target)
âœ… Pas de dÃ©bordement horizontal
âœ… Images chargent correctement
âœ… Pas de blocs bleus massifs
âœ… Design cohÃ©rent beige/crÃ¨me
4. BACKGROUNDS RABBI ISRAEL (DEMANDE CLIENT)
Demande: "Je ne vois pas dans le site les photos que je t'avais demandÃ© de mettre en arriÃ¨re-plan"

Photos ajoutÃ©es:

public/rabbi-israel-1.jpg
public/rabbi-israel-2.jpg
public/rabbi-israel-3.jpg
public/rabbi-israel-4.jpg
public/rabbi-israel-5.jpg
Pages qui DOIVENT avoir ces backgrounds (opacity 0.05-0.08):

/magazine - Hero + Content sections
/about - Hero + Content sections
/haesh-hype - Hero + Content sections
/lottery - Hero section
Test visuel:

AccÃ©der Ã  chaque page
VÃ‰RIFIER: Background image subtil visible (trÃ¨s transparent)
VÃ‰RIFIER: Texte reste parfaitement lisible
VÃ‰RIFIER: Images ne sont PAS trop visibles (opacity max 0.08)
5. MULTI-LANGUE (5 LANGUES)
Langues supportÃ©es:

ğŸ‡®ğŸ‡± HÃ©breu (HE) - Par dÃ©faut, RTL
ğŸ‡ºğŸ‡¸ Anglais (EN) - LTR
ğŸ‡«ğŸ‡· FranÃ§ais (FR) - LTR
ğŸ‡ªğŸ‡¸ Espagnol (ES) - LTR
ğŸ‡·ğŸ‡º Russe (RU) - LTR
Tests:

Changer vers chaque langue
VÃ©rifier que:
Direction texte correcte (RTL pour hÃ©breu, LTR pour autres)
Traductions prÃ©sentes sur TOUTES les pages
Boutons/labels traduits
Prix affichÃ©s en ILS (â‚ª) dans toutes les langues
Pas de texte manquant ou en anglais par dÃ©faut
6. AUTHENTIFICATION & AUTORISATION
SystÃ¨me:

Session-based auth avec Replit Auth
PostgreSQL session store
RÃ´le admin via flag isAdmin dans table users
Tests critiques:

Utilisateur non-connectÃ©:

AccÃ©der /lottery-admin â†’ 401 Unauthorized
AccÃ©der toutes les routes publiques â†’ OK
Utilisateur connectÃ© (non-admin):

AccÃ©der /lottery-admin â†’ 403 Forbidden
Message: "AccÃ¨s rÃ©servÃ© aux administrateurs"
Utilisateur admin:

AccÃ©der /lottery-admin â†’ 200 OK
Voir liste participants
Pouvoir effectuer tirage
Comment crÃ©er un admin:

-- Dans l'onglet Database de Replit
UPDATE users SET is_admin = true WHERE email = 'admin@example.com';

7. PERFORMANCES & OPTIMISATION
Objectif: 300%+ conversion rate improvement

MÃ©triques Ã  vÃ©rifier:

â± First Contentful Paint (FCP) < 1.5s
â± Largest Contentful Paint (LCP) < 2.5s
â± Time to Interactive (TTI) < 3.5s
ğŸ“± Mobile-first: 60%+ du trafic vient du mobile
Tests de charge:

Simuler 100 utilisateurs simultanÃ©s sur /store
VÃ©rifier temps de rÃ©ponse API < 500ms
VÃ©rifier base de donnÃ©es PostgreSQL gÃ¨re la charge
8. CONTENU & RÃ‰FÃ‰RENCES
CRITIQUE: Toutes les rÃ©fÃ©rences doivent Ãªtre Ã  "Saba Israel" (Rabbi Israel Dov Odesser ×–×¦×´×œ)

Pages Ã  vÃ©rifier:

/about - Biographie du fondateur
/magazine - Articles sur Saba Israel
/lottery - Texte sur la Hilloula
Rechercher dans le code:

âŒ Ne doit PAS contenir: "Yaakov", "Jacob"
âœ… Doit contenir: "Saba Israel", "Rabbi Israel Dov Odesser", "×”×¡×‘×"
9. INTÃ‰GRATIONS EXTERNES
Services utilisÃ©s:

PayPal (Sandbox/Production)
Neon Database (PostgreSQL)
Replit Auth
SendGrid (emails - si configurÃ©)
VÃ©rifier:

Variables d'environnement prÃ©sentes:
DATABASE_URL
PAYPAL_CLIENT_ID
PAYPAL_SECRET
Autres secrets nÃ©cessaires
10. REDIRECTION VERS ANCIEN SITE
FonctionnalitÃ©: Option "Pay via Old Site"

Test:

Sur n'importe quelle page produit
Cliquer "×ª×©×œ×•× ×“×¨×š ×”××ª×¨ ×”×™×©×Ÿ" (ou Ã©quivalent en autre langue)
VÃ‰RIFIER: Redirection vers https://haesh-sheli.co.il/checkout
VÃ‰RIFIER: WooCommerce cart sur ancien site
ğŸ” CHECKLIST DE TEST MOBILE (PRIORITÃ‰ HAUTE)
Header Mobile
 Hauteur totale â‰¤ 60px
 Hamburger menu (â˜°) visible et fonctionnel
 Logo/titre visible
 Bouton panier visible avec compteur
 Bouton Globe pour langues ouvre popup (ne change PAS directement)
 Pas de gradients bleus
 Background beige/crÃ¨me
Menu Hamburger
 S'ouvre en slide drawer (animation smooth)
 Affiche toutes les pages de navigation
 Bouton fermer (X) visible
 Liens cliquables (48px touch target)
 Ferme aprÃ¨s clic sur lien
 Overlay semi-transparent derriÃ¨re
Page d'accueil Mobile
 Photo du livre apparaÃ®t EN PREMIER
 Pas de bloc bleu massif en haut
 Titre du livre lisible
 Prix visible
 Bouton "Acheter" visible et cliquable
 Sections empilÃ©es verticalement
 Pas de dÃ©bordement horizontal
Boutique Mobile (/store)
 Grille de produits: 1 colonne en mobile
 Images produits chargent correctement
 Prix lisibles
 Filtres accessibles (collapse/expand)
 Barre de recherche fonctionnelle
 Pagination visible
Page Produit Mobile (/product/:id)
 Image produit grande et claire
 Titre lisible (taille appropriÃ©e)
 Prix bien visible
 SÃ©lecteur de variante (format, taille) utilisable
 SÃ©lecteur de quantitÃ© (+/-) fonctionne
 Bouton PayPal cliquable (48px min)
 Bouton "Pay via Old Site" visible
 Description produit lisible
Loterie Mobile (/lottery)
 Background Rabbi Israel visible (subtil)
 Titre Ã©vÃ©nement visible
 Countdown timer fonctionne
 Formulaire utilisable:
 Champs assez grands pour taper
 Labels clairs
 Bouton submit cliquable
 Poster Ã©vÃ©nement affichÃ©
Admin Loterie (/lottery-admin)
 Protection auth fonctionne
 Liste participants affichÃ©e correctement
 Bouton "Draw Winner" visible
 Animation tirage fonctionne
 Gagnant affichÃ© clairement
ğŸ› BUGS CONNUS Ã€ VÃ‰RIFIER
1. Erreurs LSP (TypeScript)
Fichiers Ã  vÃ©rifier:

client/src/pages/product.tsx - âœ… CORRIGÃ‰ (CartItem type)
client/src/pages/store.tsx - âœ… CORRIGÃ‰ (null vs undefined)
Commande:

npm run build
# Doit compiler SANS erreurs

2. Warnings Console Browser
Ã€ vÃ©rifier dans DevTools:

âŒ Failed to load resource: 401 (Unauthorized) - Normal si pas connectÃ©
âŒ Unrecognized feature: 'web-share' - Peut ignorer
âœ… Pas d'autres erreurs critiques
3. Images manquantes
VÃ©rifier que ces images existent:

ls -la public/rabbi-israel-*.jpg
# Doit montrer 5 fichiers (1.jpg Ã  5.jpg)

4. Base de donnÃ©es
VÃ©rifier schÃ©ma Drizzle:

npm run db:push
# Doit synchroniser sans erreurs

Tables critiques:

users (avec colonne is_admin)
lottery_participants
lottery_draws
lottery_winners
products
product_variants
ğŸ“Š RAPPORTS Ã€ FOURNIR
Rapport de Test Mobile
Pour chaque page testÃ©e en mobile, documenter:

Screenshot de la page
ProblÃ¨mes visuels identifiÃ©s (liste)
Suggestions d'amÃ©lioration
Score de 1-10 pour l'expÃ©rience mobile
Rapport de Test PayPal
Prix affichÃ©s dans le site
Prix chargÃ©s dans PayPal (doivent correspondre)
Redirection aprÃ¨s paiement (fonctionne?)
EntrÃ©es base de donnÃ©es (participant enregistrÃ©?)
Rapport de SÃ©curitÃ©
Endpoints protÃ©gÃ©s testÃ©s (liste)
Tentatives d'accÃ¨s non-autorisÃ© (rÃ©sultats)
VulnÃ©rabilitÃ©s identifiÃ©es (si prÃ©sentes)
Rapport de Performance
Temps de chargement par page (mobile + desktop)
Core Web Vitals (LCP, FID, CLS)
Recommandations d'optimisation
ğŸš€ PRÃŠT POUR PRODUCTION?
Checklist finale avant Ã©vÃ©nement de ce soir:
 Tous les tests de loterie passent
 PayPal fonctionne avec prix corrects
 Design mobile acceptable (minimum 7/10)
 Backgrounds Rabbi Israel visibles
 Aucune erreur critique en console
 Au moins 1 utilisateur admin crÃ©Ã© dans DB
 Variables d'environnement production configurÃ©es
 Build production rÃ©ussit (npm run build)
Si UN SEUL item ci-dessus Ã©choue â†’ SITE PAS PRÃŠT
ğŸ“ CONTACT & SUPPORT
En cas de problÃ¨me bloquant:

Documenter le problÃ¨me avec screenshots
VÃ©rifier les logs serveur (npm run dev output)
VÃ©rifier les logs browser (DevTools Console)
Reporter au dÃ©veloppeur avec dÃ©tails complets
PrioritÃ©s de correction:

ğŸ”´ CRITIQUE: Loterie, PayPal, Auth
ğŸŸ¡ IMPORTANT: Design mobile, Performance
ğŸŸ¢ NICE-TO-HAVE: Optimisations mineures
ğŸ’¡ NOTES TECHNIQUES
Structure du projet
â”œâ”€â”€ client/src/          # Frontend React
â”‚   â”œâ”€â”€ pages/          # Pages React
â”‚   â”œâ”€â”€ components/     # Composants rÃ©utilisables
â”‚   â”œâ”€â”€ contexts/       # React Context (Language, Cart)
â”‚   â””â”€â”€ styles/         # CSS global
â”œâ”€â”€ server/             # Backend Express
â”‚   â”œâ”€â”€ api/           # Routes API
â”‚   â”œâ”€â”€ storage.ts     # Interface base de donnÃ©es
â”‚   â””â”€â”€ replitAuth.ts  # Middleware auth
â”œâ”€â”€ shared/            # Code partagÃ©
â”‚   â””â”€â”€ schema.ts      # SchÃ©ma Drizzle
â””â”€â”€ public/            # Assets statiques

Commandes utiles
# DÃ©marrer dev
npm run dev
# Build production
npm run build
# Push DB schema
npm run db:push
# Forcer push DB
npm run db:push --force

Environnement
Node.js: v20+
Database: PostgreSQL (Neon)
Framework: React 18 + Vite + TypeScript
Backend: Express + Drizzle ORM
âœ… CONCLUSION
Ce document couvre TOUTES les fonctionnalitÃ©s du site HaEsh Sheli qui doivent Ãªtre testÃ©es avant l'Ã©vÃ©nement de ce soir avec 20,000 personnes.

Focus principal: MOBILE + LOTERIE + PAYPAL