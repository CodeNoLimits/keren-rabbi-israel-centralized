# =============================================================================
# Keren Rabbi Israel - Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values.
# NEVER commit the .env file to version control.
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=5000
NODE_ENV=development

# -----------------------------------------------------------------------------
# Database (Neon Serverless PostgreSQL)
# -----------------------------------------------------------------------------
# Required for: user auth, orders, subscriptions, product catalog
# Without this, the site runs in browse-only mode (no auth, no checkout)
DATABASE_URL=postgresql://user:password@host/database?sslmode=require

# -----------------------------------------------------------------------------
# Session Secret (required when auth is enabled)
# -----------------------------------------------------------------------------
# Used by express-session for signing session cookies
SESSION_SECRET=your-session-secret-here

# -----------------------------------------------------------------------------
# Replit Auth (optional - only needed on Replit deployments)
# -----------------------------------------------------------------------------
# REPLIT_DOMAINS=your-domain.replit.app
# REPL_ID=your-repl-id
# ISSUER_URL=https://replit.com/oidc

# -----------------------------------------------------------------------------
# Stripe Payments (Task 81: Verified ILS currency support)
# -----------------------------------------------------------------------------
# Required for: checkout, subscriptions (HoRaat Keva), Israeli payment methods
# Get keys from: https://dashboard.stripe.com/apikeys
# Currency: ILS (Israeli New Shekel) - amounts in agorot (1 ILS = 100 agorot)
# Israeli payment methods supported: Bit, Google Pay, Apple Pay (via Payment Element)
# Installment payments: 12 months interest-free for Israeli credit cards
STRIPE_SECRET_KEY=sk_test_...

# Webhook secret - get from: https://dashboard.stripe.com/webhooks
# Configure webhook endpoint: /api/webhooks/stripe (or legacy /api/stripe-webhook)
# Events to listen: payment_intent.succeeded, payment_intent.payment_failed
STRIPE_WEBHOOK_SECRET=whsec_...

# Subscription price ID for HoRaat Keva plan (99 ILS/month)
STRIPE_PRICE_ID=price_...

# Client-side Stripe key (prefix with VITE_ for Vite exposure)
# This key is safe to expose in frontend code (pk_test_ for test mode, pk_live_ for production)
VITE_STRIPE_PUBLIC_KEY=pk_test_...

# -----------------------------------------------------------------------------
# Analytics & Tracking (Tasks 92-93)
# -----------------------------------------------------------------------------
# Google Analytics 4 - Get from: https://analytics.google.com/
# Format: G-XXXXXXXXXX
VITE_GA4_MEASUREMENT_ID=

# Facebook Pixel - Get from: https://business.facebook.com/
# Format: numeric ID
VITE_FB_PIXEL_ID=

# -----------------------------------------------------------------------------
# PayPal Payments (Task 86: Optional alternative payment method)
# -----------------------------------------------------------------------------
# Get keys from: https://developer.paypal.com/dashboard/applications/sandbox
# Client ID (exposed to frontend)
VITE_PAYPAL_CLIENT_ID=
# Secret Key (server-side ONLY)
PAYPAL_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# AI Chatbot - Gemini (Primary)
# -----------------------------------------------------------------------------
# Required for: Breslov AI chat assistant, book recommendations, sentiment analysis
# Get key from: https://aistudio.google.com/apikey
GEMINI_API_KEY=AIza...

# -----------------------------------------------------------------------------
# AI Chatbot - OpenAI via OpenRouter (Secondary)
# -----------------------------------------------------------------------------
# Required for: Alternative ChatGPT-based chat, book recommendations
# Get key from: https://openrouter.ai/keys
OPENAI_API_KEY=sk-or-...

# -----------------------------------------------------------------------------
# Email Service (SendGrid)
# -----------------------------------------------------------------------------
# Required for: Order confirmation emails, newsletter
# Get key from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG....
SENDGRID_FROM_EMAIL=noreply@haesh-sheli.co.il
